@page "/store/create"
@using Commons.Models.StoreDTO
@using MyShopSystem_UI.Service
@inject IStoreService storeService
@inject NavigationManager navigation

<div class="card p-3 mt-3">
	<h4>Create Store</h4>
	<div class="form-group">
		<label for="name">Name</label>
		<input id="name" class="form-control" @bind=newStore.Name/>
	</div>
	<div class="form-group">
		<label for="location">Location</label>
		<input id="location" class="form-control" @bind=newStore.Location />
	</div>
	<div class="form-group">
		<label for="branchId">BranchId</label>
		<input id="branchId" class="form-control" @bind=newStore.BranchId />
	</div>
	<dir class="mt-3">
		<button class="btn btn-success" @onclick="CreateStore">Save</button>
		<a class="btn btn-secondary" href="/store">Cancel</a>
	</dir>
</div>

@code{
	private CreateStoreDTO newStore = new CreateStoreDTO();

	protected override async Task OnInitializedAsync()
	{

	}
	private async Task CreateStore()
	{
		var result = await storeService.CreateStore(newStore);
		navigation.NavigateTo("/store");
	}
}