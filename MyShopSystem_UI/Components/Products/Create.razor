@page "/products/create"
@using Commons.Models.ProductDTO
@using MyShopSystem_UI.Service
@inject IProductService  productService;
@inject NavigationManager navigation

<div class="card p-3 mt-3">
	<h4>Create Product</h4>
	<div class="form-group">
		<label for="name">Name</label>
		<input id="name" class="form-control" @bind="newProduct.Name" />
	</div>
	<div class="form-group">
		<label for="price">Price</label>
		<input id="price" class="form-control" @bind="newProduct.Price" />
	</div>
	<div class="mt-3">
		<button class="btn btn-success" @onclick="CreateProduct">Save</button>
		<a class="btn btn-secondary" href="/products">Cancel</a>
	</div>
</div>


@code{
	private CreateProductDTO newProduct = new CreateProductDTO();

	protected override async Task OnInitializedAsync()
	{

	}
	private async Task CreateProduct()
	{
		var result = await productService.CreateProduct(newProduct);
		navigation.NavigateTo("/products");
	}
}