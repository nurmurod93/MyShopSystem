@page "/user/create"
@using Commons.Models.UserDTO
@using MyShopSystem_UI.Service
@inject IUserService userService;
@inject NavigationManager navigation

<div class="card p-3 mt-3">
	<h4>Create User</h4>
	<div class="form-group">
		<label for="name">UserName</label>
		<input id="name" class="form-control" @bind="newUser.Username" />
	</div>
	<div class="form-group">
		<label for="passwordHash">PasswordHash</label>
		<input id="passwordHash" class="form-control" @bind="newUser.PasswordHash" />
	</div>
	<div class="mt-3">
		<button class="btn btn-success" @onclick="CreateUser">Save</button>
		<a class="btn btn-secondary" href="/user">Cancel</a>
	</div>
</div>


@code {
	private CreateUserDTO newUser = new CreateUserDTO();

	protected override async Task OnInitializedAsync()
	{

	}
	private async Task CreateUser()
	{
		var result = await userService.CreateUser(newUser);
		navigation.NavigateTo("/user");
	}
}